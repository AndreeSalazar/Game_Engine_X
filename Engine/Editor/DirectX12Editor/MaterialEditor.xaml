<Window x:Class="DirectX12Editor.MaterialEditor"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Material Editor - Estilo Unreal Engine 5" 
        Height="900" Width="1600"
        Background="#FF1E1E1E"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">
    
    <Window.Resources>
        <!-- Estilos estilo Unreal Engine 5 -->
        <Style TargetType="GroupBox">
            <Setter Property="Foreground" Value="#FFE8E8E8"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="BorderBrush" Value="#FF3A3A3A"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="#FFB4B4B4"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
        
        <Style TargetType="Slider">
            <Setter Property="Foreground" Value="#FF0078D4"/>
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="Height" Value="20"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
        
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="Foreground" Value="#FFE8E8E8"/>
            <Setter Property="BorderBrush" Value="#FF3A3A3A"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
        
        <Style TargetType="Button">
            <Setter Property="Background" Value="#FF0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF0063B1"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="#FFB4B4B4"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="320"/>
        </Grid.ColumnDefinitions>
        
        <!-- Panel Izquierdo: Material Properties -->
        <GroupBox Grid.Column="0" Header="ðŸ“‹ Material Properties">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <!-- Material Name con Icono -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="ðŸŽ¨" FontSize="16" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <TextBlock Grid.Column="1" Text="Material Name:" FontWeight="Bold" Foreground="#FFE8E8E8" VerticalAlignment="Center"/>
                    </Grid>
                    <TextBox x:Name="MaterialNameTextBox" Text="MyMaterial" FontWeight="SemiBold"/>
                    
                    <!-- Base Color con Icono y Tooltip -->
                    <Grid Margin="0,15,0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="ðŸŽ¨" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <TextBlock Grid.Column="1" Text="Base Color" FontWeight="Bold" Foreground="#FFE8E8E8" VerticalAlignment="Center">
                            <TextBlock.ToolTip>
                                <ToolTip Content="Color base del material (Albedo)" Background="#FF2D2D2D" Foreground="#FFE8E8E8"/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="R:" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="#FFB4B4B4"/>
                        <Slider x:Name="BaseColorRSlider" Grid.Column="1" Minimum="0" Maximum="1" Value="1" ValueChanged="OnParameterChanged" 
                                ToolTip="Red component (0.0 - 1.0)"/>
                        <TextBox x:Name="BaseColorRTextBox" Grid.Column="2" Text="1.0" TextChanged="OnParameterTextChanged"/>
                        
                        <TextBlock Grid.Column="0" Text="G:" VerticalAlignment="Center" Margin="0,5,5,0" Grid.Row="1" Foreground="#FFB4B4B4"/>
                        <Slider x:Name="BaseColorGSlider" Grid.Column="1" Minimum="0" Maximum="1" Value="0" ValueChanged="OnParameterChanged" Grid.Row="1"
                                ToolTip="Green component (0.0 - 1.0)"/>
                        <TextBox x:Name="BaseColorGTextBox" Grid.Column="2" Text="0.0" TextChanged="OnParameterTextChanged" Grid.Row="1"/>
                        
                        <TextBlock Grid.Column="0" Text="B:" VerticalAlignment="Center" Margin="0,5,5,0" Grid.Row="2" Foreground="#FFB4B4B4"/>
                        <Slider x:Name="BaseColorBSlider" Grid.Column="1" Minimum="0" Maximum="1" Value="0" ValueChanged="OnParameterChanged" Grid.Row="2"
                                ToolTip="Blue component (0.0 - 1.0)"/>
                        <TextBox x:Name="BaseColorBTextBox" Grid.Column="2" Text="0.0" TextChanged="OnParameterTextChanged" Grid.Row="2"/>
                    </Grid>
                    
                    <!-- Color Preview Mejorado -->
                    <Grid Margin="0,10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Preview:" FontSize="10" Foreground="#FF888888" Margin="0,0,0,5"/>
                        <Border Grid.Row="1" Height="50" Background="#FF2D2D2D" BorderBrush="#FF0078D4" BorderThickness="2" CornerRadius="3">
                            <Border x:Name="ColorPreview" Background="#FFFF0000" Margin="3" CornerRadius="2">
                                <Border.Effect>
                                    <DropShadowEffect Color="#40000000" BlurRadius="5" ShadowDepth="2"/>
                                </Border.Effect>
                            </Border>
                        </Border>
                    </Grid>
                    
                    <!-- Metallic con Icono -->
                    <Grid Margin="0,15,0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="âš¡" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <TextBlock Grid.Column="1" Text="Metallic" FontWeight="Bold" Foreground="#FFE8E8E8" VerticalAlignment="Center">
                            <TextBlock.ToolTip>
                                <ToolTip Content="Reflectividad metÃ¡lica (0.0 = No metÃ¡lico, 1.0 = MetÃ¡lico)" Background="#FF2D2D2D" Foreground="#FFE8E8E8"/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <Slider x:Name="MetallicSlider" Grid.Column="0" Minimum="0" Maximum="1" Value="0" ValueChanged="OnParameterChanged"
                                ToolTip="Metallic value (0.0 - 1.0)"/>
                        <TextBox x:Name="MetallicTextBox" Grid.Column="1" Text="0.0" TextChanged="OnParameterTextChanged"/>
                    </Grid>
                    
                    <!-- Roughness con Icono -->
                    <Grid Margin="0,15,0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="ðŸ”" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <TextBlock Grid.Column="1" Text="Roughness" FontWeight="Bold" Foreground="#FFE8E8E8" VerticalAlignment="Center">
                            <TextBlock.ToolTip>
                                <ToolTip Content="Rugosidad de la superficie (0.0 = Espejo, 1.0 = Mate)" Background="#FF2D2D2D" Foreground="#FFE8E8E8"/>
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        <Slider x:Name="RoughnessSlider" Grid.Column="0" Minimum="0" Maximum="1" Value="0.5" ValueChanged="OnParameterChanged"
                                ToolTip="Roughness value (0.0 - 1.0)"/>
                        <TextBox x:Name="RoughnessTextBox" Grid.Column="1" Text="0.5" TextChanged="OnParameterTextChanged"/>
                    </Grid>
                    
                    <!-- Emissive -->
                    <TextBlock Text="Emissive Color" FontWeight="Bold" Margin="0,15,0,5" Foreground="#FFE8E8E8"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="60"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="R:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <Slider x:Name="EmissiveRSlider" Grid.Column="1" Minimum="0" Maximum="10" Value="0" ValueChanged="OnParameterChanged"/>
                        <TextBox x:Name="EmissiveRTextBox" Grid.Column="2" Text="0.0" TextChanged="OnParameterTextChanged"/>
                        
                        <TextBlock Grid.Column="0" Text="G:" VerticalAlignment="Center" Margin="0,5,5,0" Grid.Row="1"/>
                        <Slider x:Name="EmissiveGSlider" Grid.Column="1" Minimum="0" Maximum="10" Value="0" ValueChanged="OnParameterChanged" Grid.Row="1"/>
                        <TextBox x:Name="EmissiveGTextBox" Grid.Column="2" Text="0.0" TextChanged="OnParameterTextChanged" Grid.Row="1"/>
                        
                        <TextBlock Grid.Column="0" Text="B:" VerticalAlignment="Center" Margin="0,5,5,0" Grid.Row="2"/>
                        <Slider x:Name="EmissiveBSlider" Grid.Column="1" Minimum="0" Maximum="10" Value="0" ValueChanged="OnParameterChanged" Grid.Row="2"/>
                        <TextBox x:Name="EmissiveBTextBox" Grid.Column="2" Text="0.0" TextChanged="OnParameterTextChanged" Grid.Row="2"/>
                    </Grid>
                    
                    <!-- Buttons -->
                    <Separator Margin="0,20,0,10" Background="#FF3A3A3A"/>
                    <TextBlock Text="Auto-save: Activado" FontSize="9" Foreground="#FF00FF00" Margin="0,0,0,5" HorizontalAlignment="Center"/>
                    <Button Content="âœ… Apply Material" Click="ApplyMaterial_Click" Background="#FF00A86B" FontWeight="Bold"/>
                    <Button Content="ðŸ’¾ Save Material As..." Click="SaveMaterial_Click"/>
                    <Button Content="ðŸ“‚ Load Material" Click="LoadMaterial_Click"/>
                    <Button Content="ðŸ”„ Reset to Default" Click="ResetMaterial_Click" Background="#FF6B6B6B"/>
                    <Separator Margin="0,10" Background="#FF3A3A3A"/>
                    <Button Content="ðŸ“Š Open Main Editor" Click="OpenMainEditor_Click" Background="#FF0078D4"/>
                </StackPanel>
            </ScrollViewer>
        </GroupBox>
        
        <!-- Panel Central: Material Graph (Node Editor) -->
        <GroupBox Grid.Column="1" Header="ðŸŽ¨ Material Graph">
            <Canvas x:Name="MaterialGraphCanvas">
                <!-- Grid de fondo -->
                <Canvas.Background>
                    <DrawingBrush TileMode="Tile" Viewport="0,0,20,20" ViewportUnits="Absolute">
                        <DrawingBrush.Drawing>
                            <GeometryDrawing>
                                <GeometryDrawing.Geometry>
                                    <RectangleGeometry Rect="0,0,20,20"/>
                                </GeometryDrawing.Geometry>
                                <GeometryDrawing.Pen>
                                    <Pen Brush="#FF1A1A1A" Thickness="1"/>
                                </GeometryDrawing.Pen>
                            </GeometryDrawing>
                        </DrawingBrush.Drawing>
                    </DrawingBrush>
                </Canvas.Background>
                
                <!-- Placeholder para nodos -->
                <TextBlock Text="Material Node Editor" 
                          Foreground="#FF888888"
                          FontSize="24"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          Canvas.Left="50"
                          Canvas.Top="50"/>
            </Canvas>
        </GroupBox>
        
        <!-- Panel Derecho: Preview y Info -->
        <GroupBox Grid.Column="2" Header="ðŸ‘ï¸ Preview &amp; Info">
            <StackPanel>
                <!-- Preview del material mejorado -->
                <Border Background="#FF0F0F0F" Height="300" Margin="0,0,0,10" BorderBrush="#FF0078D4" BorderThickness="2" CornerRadius="3">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Text="3D Preview" FontSize="10" Foreground="#FF888888" 
                                  HorizontalAlignment="Center" Margin="0,5,0,0"/>
                        
                        <Border Grid.Row="1" x:Name="MaterialPreview" Background="#FF2D2D2D" Margin="10" CornerRadius="3">
                            <Viewbox>
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock Text="Material Preview" 
                                              Foreground="#FF888888"
                                              HorizontalAlignment="Center"
                                              FontSize="16"
                                              Margin="0,0,0,10"/>
                                    <TextBlock x:Name="PreviewStatusText" 
                                              Text="Conectado a DirectX12Test.exe" 
                                              Foreground="#FF00FF00"
                                              HorizontalAlignment="Center"
                                              FontSize="11"/>
                                </StackPanel>
                            </Viewbox>
                        </Border>
                    </Grid>
                </Border>
                
                <!-- Material Info -->
                <GroupBox Header="ðŸ“Š Material Info" Margin="0,5">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="200">
                        <StackPanel>
                            <TextBlock x:Name="MaterialInfoText" Text="No material loaded" TextWrapping="Wrap"/>
                        </StackPanel>
                    </ScrollViewer>
                </GroupBox>
                
                <!-- Statistics -->
                <GroupBox Header="ðŸ“ˆ Statistics" Margin="0,5">
                    <StackPanel>
                        <TextBlock x:Name="StatsText" Text="No statistics available" TextWrapping="Wrap"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </GroupBox>
    </Grid>
</Window>

